#
#--Makefile to remake the executable and copy to this directory
#  Generated by /Users/dprice/ndspmhd/scripts/writemake.sh: Wed 29 Apr 2015 11:10:38 AEST
#
#NDSPMHD_DIR=/Users/dprice/ndspmhd/
export SETUP1D=setup_dustydiffusion.f90
export SETUP2D=setup_dustydiffusion.f90
export SETUP3D=setup_dustydiffusion.f90

default:3D

3D: checkdir
	cd ${NDSPMHD_DIR}; make 3D; cd -; cp ${NDSPMHD_DIR}/3DSPMHD .
2D: checkdir
	cd ${NDSPMHD_DIR}; make 2D; cd -; cp ${NDSPMHD_DIR}/2DSPMHD .
1D: checkdir
	cd ${NDSPMHD_DIR}; make 1D; cd -; cp ${NDSPMHD_DIR}/1DSPMHD .
edit: checkdir checkeditor
	cd ${NDSPMHD_DIR}; make edit3D
moddump: checkdir
	cd ${NDSPMHD_DIR}/src; make moddump3D
moddumpc: checkdir
	cd ${NDSPMHD_DIR}/src; make clean; make moddump3D
make: checkdir checkeditor
	cd ${NDSPMHD_DIR}/src; $(EDITOR) Makefile &
clean: checkdir
	cd ${NDSPMHD_DIR}; make clean
cleanfiles:
	rm *.ev *_0*.dat version
cleanallfiles:
	rm *.ev *_0*.dat version ?DSPMHD
checkdir:
   ifndef NDSPMHD_DIR
	@echo
	@echo "ERROR: need NDSPMHD_DIR set to location of ndspmhd code"
	@echo "       e.g. export NDSPMHD_DIR=~/ndspmhd"
	@echo
	@quit
   endif
checkeditor:
   ifndef EDITOR
	@echo
	@echo "ERROR: need EDITOR variable set for this option (e.g. export EDITOR=emacs)"
	@echo
	@quit
   endif
